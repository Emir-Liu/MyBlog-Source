---
title: Ubuntu上Git使用教程
date: 2019-10-14 11:47:03
tags:
- Ubuntu
- git
---

# 1 获取Git仓库

## 1.1 从工作目录中初始化新仓库

### 1.1.1 初始化
```bash
git init
```
初始化后会出现一个.git目录，所有git所需要的数据和资源都在这个目录中。

### 1.1.2 进行版本控制
```bash
git add *.c
git add README
git commit -m 'initial project version'
```
add命令开始跟踪，
commit命令开始提交

## 1.2 从现有的仓库中克隆
将项目的git仓库复制出来
```bash
git clone git://xxx [file-name]
```

# 2 文件管理
## 2.1 文件状态：
未跟踪：
没有上次更新时的快照，也不早当前的暂存区域。
当文件未被跟踪，git不会自动将其纳入跟踪范围，所以不用担心将临时文件归入版本管理。

已跟踪：
代表文件本来就被纳入了版本控制管理的文件，在上次快照中有记录。
已跟踪文件的状态有：未修改，已修改和已放入暂存区。

状态转化：
刚克隆某个仓库，所有文件都是已跟踪文件，状态为未修改。
编辑文件后，文件状态变为已修改。
将已修改的文件放到暂存区。
最后一次性提交暂存区的文件。

状态转化图：
untracked(未跟踪) |						tracked(已跟踪)
untracked					| unmodified(未修改) | modified(已修改)	| staged(暂存区)
		       	--------------------add file-------------------->     	    	
                                                    --add file->
                                 --edit file->	    --stage file->
		       	<-remove file--				<-----------commit------------

检查当前文件状态：
```bash
git status
```

### 2.1.1跟踪新的文件：
```bash
git add README
```
当add未跟踪的文件，文件会变为已经被跟踪，而且进入了暂存状态。

### 2.1.2暂存已修改的文件
```bash
git add xxx
```
当文件已经跟踪，但是没有暂存，会将文件进入暂存状态。

### 2.1.3 忽略某些文件
一些文件不需要纳入文件管理，也不希望总是出现在未跟踪文件列表中。可以创建一个.gitignore文件，列出需要忽略的文件模式。
```bash
# commitments
*.a
!lib.a#除了xxx
/TODO #忽略TODO文件
build/ #忽略build目录下的所有文件
```

格式规范：
1。空行或者#都会被忽略
2。glob模式匹配
3。匹配模式最后/说明忽略目录
4。忽略指定模式以外的文件或者目录，可以加！

glob模式：shell使用的简化的正则表达式
1. * 匹配零个或多个任意字符
2. [abc] 匹配任何一个列在方括号中的字符
如果方括号中使用短划线分隔两个字符，例如[0-9]
3. (?) 只匹配一个任意字符 

### 2.1.4 查看已暂存和未暂存的更新


```bash
git diff
```




