---
title: Ubuntu上opencv教程3之核心操作
date: 2020-02-15 13:33:48
tags:
- ubuntu
- opencv
---
# 0.简介
1.对图片的基本操作
读取和修改像素数值，选取部分图片区域
2.对图片的算数操作
3.计算改进技术
提高运算效率
4.数学运算工具
opencv中的数学工具例如PCA，SVD等

# 1.图片的基本操作
## 1.1 获取和修改像素值
```bash
import cv2
import numpy as np

img = cv2.imread('pic.jpg')

px = img[100,100]
print(px)

blue = img[100,100,0]
print(blue)

img[100,100] = [255,255,255]
print(img[100,100])
```
返回
```bash
[157 166 200]
157
[255 255 255]
```
注意：
numpy是一个快速数组计算的库，所以简单的获取和修改单个像素的值都是缓慢的，不建议如此使用。

上面的方法通常用来选择数组的一个区域，例如前5行和后3列。
对于单个像素的获取，通常用array.item()和array.itemset()，但是它总是返回一个数值，所以如果你想要获取所有BGR的值，就需要分别获取。
```bash
#获取 RED 值
img.item(10,10,2)

#修改 RED 值
img.itemset((10,10,2),100)
img.item(10,10,2)
```

## 1.2 获取图片的属性
图片属性包括：行，列，通道，图片数据的类型，像素的数目等等。
```bash
print(img.shape)
#获取图片的行，列，通道

print(img.size)
#获取图片中的像素数目

print(img.dtype)
#获取图片的数据类型
```
图片的数据类型是非常重要的，因为很多的时候错误原因就是不合适的数据类型。

## 1.3 选取图片的区域 ROI(Region Of Image)
有时候，需要选取某些区域的图像，例如，对于眼睛的检测，需要首先执行面部检测，然后再面部内搜索眼睛，这种方法提高了准确性和性能。

所以，ROI是包含了numpy数组
```bash
>>> ball = img[280:340, 330:390]
>>> img[273:333, 100:160] = ball
```

## 1.4 


# 2.图片的算数操作
# 3.改进运算效率的技术
# 4.数学运算工具
